[{"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\welcome.js":"1","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\testForm\\testForm.js":"2","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\DashboardHeader.js":"3","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\postcodeChecker.js":"4","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\dashboard.js":"5","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\CountdownInfo.js":"6","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\isoCountdown.js":"7","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\App.js":"8","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\dangerLevel.js":"9","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\input-test-page.js":"10","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\venue-check-in.js":"11","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\index.js":"12","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\getPostcode.js":"13","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\ProximityNotification.js":"14","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\reportWebVitals.js":"15","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\serviceWorker.js":"16","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\about-and-sign-out.js":"17"},{"size":605,"mtime":1607353437117,"results":"18","hashOfConfig":"19"},{"size":5082,"mtime":1607610383410,"results":"20","hashOfConfig":"19"},{"size":398,"mtime":1606822226955,"results":"21","hashOfConfig":"19"},{"size":1753,"mtime":1608203187786,"results":"22","hashOfConfig":"19"},{"size":6594,"mtime":1608043805154,"results":"23","hashOfConfig":"19"},{"size":2506,"mtime":1608207871352,"results":"24","hashOfConfig":"19"},{"size":1304,"mtime":1608043983822,"results":"25","hashOfConfig":"19"},{"size":5415,"mtime":1608204227321,"results":"26","hashOfConfig":"19"},{"size":2511,"mtime":1607700414036,"results":"27","hashOfConfig":"19"},{"size":1563,"mtime":1606822227048,"results":"28","hashOfConfig":"19"},{"size":6477,"mtime":1607350789684,"results":"29","hashOfConfig":"19"},{"size":554,"mtime":1607694280867,"results":"30","hashOfConfig":"19"},{"size":577,"mtime":1607601076216,"results":"31","hashOfConfig":"19"},{"size":1536,"mtime":1606996863544,"results":"32","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"33","hashOfConfig":"19"},{"size":5599,"mtime":1607103510086,"results":"34","hashOfConfig":"19"},{"size":932,"mtime":1607353674362,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1677ip6",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"38"},"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\welcome.js",[],["73","74"],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\testForm\\testForm.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\DashboardHeader.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\postcodeChecker.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\dashboard.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\CountdownInfo.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\isoCountdown.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\App.js",["75"],"import './App.css';\r\nimport React from 'react';\r\nimport Dashboard from './pages/dashboard'\r\nimport WelcomePage from './pages/welcome'\r\nimport ProximityNotification from './components/ProximityNotification'\r\n//import sha256 from 'crypto-js/sha256';\r\n//import hmacSHA512 from 'crypto-js/hmac-sha512';\r\n//import Base64 from 'crypto-js/enc-base64';\r\nvar CryptoJS = require(\"crypto-js\");\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isUserRegistered: false,\r\n      matchFound: false,\r\n      postcode: \"\",\r\n      isAppLoading: true,\r\n      timeOfMatch: undefined\r\n    };  \r\n  }\r\n\r\n  getRandomCode = () => {\r\n    let code = Math.floor(100000 + Math.random() * 900000000000000);\r\n    console.log(code)\r\n    return this.hashCode(code)\r\n  }\r\n\r\n  hashCode = (unhashedCode) => {\r\n    let key = `${process.env.ENCRYPTION_KEY}`\r\n    let encrypted = CryptoJS.AES.encrypt(unhashedCode.toString(), key).toString();\r\n    console.log(\"getting new code\")\r\n    return encrypted\r\n  }\r\n\r\n  getAppCode = () => {\r\n    let appCode = localStorage.getItem('tandt-appName')\r\n    if (\"tandt-appName\" in localStorage) {\r\n      console.log(\"an app code exists so starting get flagged accounts\")\r\n      this.checkingForAppCode(appCode)\r\n    } else {\r\n      let newCode = this.getRandomCode()\r\n      console.log(\"no app code exists\")\r\n      localStorage.setItem('tandt-appName', newCode)\r\n    }\r\n  }\r\n\r\n  // check every 10 seconds to see if any new cases have arisen\r\n  checkingForAppCode = (appCode) => {\r\n    this.getFlaggedAccounts(appCode);\r\n    console.log(\"checking reg status for \" + localStorage.getItem('tandt-appName'))\r\n  }\r\n\r\n  getFlaggedAccounts = (appCode) => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"text/plain\");\r\n    var raw = \"{\\\"1\\\": \\\"\" + appCode + \"\\\"}\";\r\n    var requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n\r\n    console.log(\"get flagged accounts is being ran\")\r\n\r\n    fetch(\"https://tandt-flagged-accounts-api.web-sandpit.sandpit.rscomp.systems/\", requestOptions)\r\n    .then(response => response.text())\r\n    .then(result => this.checkingForCases(result))\r\n    .catch(error => console.log('error', error));\r\n  }\r\n\r\n  getProximityInfo = () => {\r\n    setInterval(() => {\r\n      // get proximity data //\r\n    }, 1000)\r\n\r\n    // if (proximity data shows a match) {\r\n      // this.setState({ matchFound = \"true\" })\r\n    // }\r\n  }\r\n\r\n  checkingForCases = (caseData) => {\r\n    let date = new Date();\r\n    let convertedResults = JSON.parse(caseData);\r\n    let appCode = localStorage.getItem('tandt-appName')\r\n\r\n    if (convertedResults.confirmedCases >= 0 || convertedResults.selfDiagnosis >= 1) {\r\n      this.setState({ timeOfMatch: date })\r\n      this.setState({ matchFound: true })\r\n      console.log(this.state.matchFound)\r\n      console.log(this.state.timeOfMatch)\r\n    } else {\r\n      this.checkRegularlyForCases(appCode);\r\n    }\r\n  }\r\n\r\n  checkRegularlyForCases = (appCode) => {\r\n    setTimeout(() => {\r\n      this.checkingForAppCode(appCode);\r\n    }, 10800000)\r\n  }\r\n\r\n  getRegistrationStatus = () => {\r\n    if (localStorage.getItem('tandt-regStatus') !== \"true\") {\r\n      this.setState({ isUserRegistered: false });\r\n      this.checkRegStatus();\r\n    } else {\r\n      this.setState({ isUserRegistered: true });\r\n    }\r\n  }\r\n\r\n  checkRegStatus = () => {\r\n    console.log(this.state.isUserRegistered)\r\n    let checking = setInterval(() => {\r\n      this.getRegistrationStatus();\r\n      console.log(\"checking reg status\" + localStorage.getItem('tandt-regStatus'))\r\n    }, 1000)\r\n\r\n    if (localStorage.getItem('tandt-regStatus') === \"statusnull\") {\r\n      return checking\r\n    } else {\r\n      clearInterval(checking);\r\n    }\r\n  }\r\n\r\n  timeToRender = () => {\r\n    return new Promise((resolve) => setTimeout(() => resolve(), 2500));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timeToRender().then(() => this.setState({ isAppLoading: false }));\r\n    setTimeout(() => {\r\n      this.getAppCode();\r\n    }, 500)\r\n    setInterval(() => {\r\n      this.getRegistrationStatus();\r\n    }, 500)\r\n\r\n    if (this.state.isUserRegistered === false) {\r\n      let checkWhenUserRegisters = setInterval(() => {\r\n        if (this.state.isUserRegistered === true) {\r\n          this.getAppCode();\r\n          clearInterval(checkWhenUserRegisters)\r\n        }\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  render() { \r\n    if (this.state.isAppLoading) { \r\n      return null\r\n    } else \r\n      return (\r\n        <div className=\"App\">\r\n          {this.state.isUserRegistered === false &&\r\n            <div>\r\n              <WelcomePage />\r\n            </div>\r\n          }\r\n          {/* {this.state.matchFound === true &&\r\n            <div>\r\n              <ProximityNotification />\r\n            </div>\r\n          }  */}\r\n          {this.state.isUserRegistered === true && this.state.timeOfMatch === undefined &&\r\n            <div>\r\n              <Dashboard userReg={this.state.isUserRegistered} matchStatus={this.state.matchFound}/>\r\n            </div>\r\n          }\r\n          {this.state.isUserRegistered === true && this.state.timeOfMatch !== undefined &&\r\n            <div>\r\n              <Dashboard userReg={this.state.isUserRegistered} matchStatus={this.state.matchFound} matchTime={this.state.timeOfMatch}/>\r\n            </div>\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n\r\nexport default App;","C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\dangerLevel.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\input-test-page.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\venue-check-in.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\index.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\getPostcode.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\components\\ProximityNotification.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\reportWebVitals.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\serviceWorker.js",[],"C:\\Users\\E0655685\\OneDrive - Electrocomponents plc\\Ada Work\\Year 3\\Code\\track-and-trace\\src\\pages\\about-and-sign-out.js",["76","77"],"import React from 'react';\r\nimport ArrowIcon from '../images/arrow.png'\r\nimport SuccessTick from '../images/tick.png'\r\n\r\nclass AboutSignOut extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    deleteLocalStorageData = () => {\r\n        console.log(\"deleting\")\r\n        return localStorage.removeItem('tandt-regStatus')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"addit-page\">\r\n                <div className=\"page-header\" id=\"itr-header\">\r\n                    <p>About & Uninstall</p>\r\n                </div>\r\n                <div className=\"content-inner-addit-page\">\r\n                    <div className=\"page-info\">\r\n                        <p onClick={() => this.deleteLocalStorageData()}>Delete Data</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default AboutSignOut;\r\n",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":5,"column":8,"nodeType":"84","messageId":"85","endLine":5,"endColumn":29},{"ruleId":"82","severity":1,"message":"86","line":2,"column":8,"nodeType":"84","messageId":"85","endLine":2,"endColumn":17},{"ruleId":"82","severity":1,"message":"87","line":3,"column":8,"nodeType":"84","messageId":"85","endLine":3,"endColumn":19},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"no-unused-vars","'ProximityNotification' is defined but never used.","Identifier","unusedVar","'ArrowIcon' is defined but never used.","'SuccessTick' is defined but never used.","no-global-assign","no-unsafe-negation"]